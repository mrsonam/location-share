{"version":3,"file":"static/js/822.db6ac55b.chunk.js","mappings":"4RAkGA,UAzFc,WACZ,OAA0BA,EAAAA,EAAAA,UAAS,IAAnC,eAAOC,EAAP,KAAcC,EAAd,KACA,GAAgCF,EAAAA,EAAAA,UAAS,IAAzC,eAAOG,EAAP,KAAiBC,EAAjB,KAEA,GAAoCJ,EAAAA,EAAAA,UAAS,IAA7C,eAAOK,EAAP,KAAmBC,EAAnB,KACA,GAA0CN,EAAAA,EAAAA,UAAS,IAAnD,eAAOO,EAAP,KAAsBC,EAAtB,KAEMC,GAAWC,EAAAA,EAAAA,MAEXC,GAAWC,EAAAA,EAAAA,MAaXC,EAAW,mCAAG,WAAOC,GAAP,0FACCC,EAAAA,EAAAA,KAAOC,EAAAA,EAAAA,IAAIC,EAAAA,EAAY,QAAb,UAAyBH,KADpC,OACZI,EADY,OAEZC,EAAW,CACfL,GAAII,EAAKJ,GACTM,KAAMF,EAAKG,UAAUC,KAAKC,MAAMC,SAASC,OAAOL,KAAKM,YACrDzB,MAAOiB,EAAKG,UAAUC,KAAKC,MAAMC,SAASC,OAAOxB,MAAMyB,aAEzDf,GAASgB,EAAAA,EAAAA,IAAQR,IACjBR,GAASiB,EAAAA,EAAAA,KAAc,IARL,2CAAH,sDA8BjB,OACE,+BACE,gBAAKC,UAAU,YAAf,UACE,UAAC,IAAD,CACEA,UAAU,mDACVC,QAAS,EAFX,WAIE,SAAC,IAAD,CAAYC,QAAQ,KAAKC,UAAU,KAAnC,oBAGA,SAAC,IAAD,CACElB,GAAG,QACHmB,KAAK,QACLC,MAAM,QACNX,MAAOtB,EACPkC,MAAsB,KAAf9B,EACP+B,WAAY/B,EACZgC,SAAU,SAACC,GAAD,OAAOpC,EAASoC,EAAEC,OAAOhB,QACnCiB,GAAI,CAAEC,MAAO,YAEf,SAAC,IAAD,CACE3B,GAAG,WACHmB,KAAK,WACLC,MAAM,WACNX,MAAOpB,EACPgC,MAAyB,KAAlB5B,EACP6B,WAAY7B,EACZ8B,SAAU,SAACC,GAAD,OAAOlC,EAAYkC,EAAEC,OAAOhB,QACtCiB,GAAI,CAAEC,MAAO,YAEf,SAAC,IAAD,CAAQV,QAAQ,YAAYW,KAAK,QAAQC,QAjD5B,WArBF,KAAjB1C,EAAM2C,OACFtC,EAAc,qBACdA,EAAc,IACE,KAApBH,EAASyC,OACLpC,EAAiB,wBACjBL,EAAS0C,OAAS,EAClBrC,EAAiB,0CACjBA,EAAiB,IAiBJ,KAAfH,GACkB,KAAlBE,IAEAuC,EAAAA,EAAAA,IAA2BC,EAAAA,EAAc9C,EAAOE,GAAU6C,KAA1D,mCACE,WAAO9B,GAAP,0FAEUL,EAAYK,EAAKA,KAAK+B,KAFhC,OAGIxC,EAAS,KAHb,+CAKIyC,QAAQf,MAAM,0BAAd,MALJ,wDADF,wDA2CI,4B,8GC5EJgB,GAAMC,EAAAA,EAAAA,IAVW,CACrBC,OAAQ,0CACRC,WAAY,uCACZC,UAAW,uBACXC,cAAe,mCACfC,kBAAmB,eACnBC,MAAO,8CAKHX,GAAeY,EAAAA,EAAAA,IAAQR,GACvBlC,GAAa2C,EAAAA,EAAAA,IAAaT","sources":["Pages/Login/Login.jsx","firebase/firebaseInit.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport { TextField, Stack, Typography, Button } from '@mui/material';\r\nimport { firebaseAuth, firebaseDb } from '../../firebase/firebaseInit';\r\nimport { signInWithEmailAndPassword } from 'firebase/auth';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { useDispatch } from 'react-redux';\r\nimport { getDoc , doc } from 'firebase/firestore';\r\nimport { setIsLoggedIn, setUser } from '../../features/userSlice';\r\n\r\nconst Login = () => {\r\n  const [email, setEmail] = useState('');\r\n  const [password, setPassword] = useState('');\r\n\r\n  const [emailError, setEmailError] = useState('');\r\n  const [passwordError, setPasswordError] = useState('');\r\n\r\n  const navigate = useNavigate();\r\n\r\n  const dispatch = useDispatch();\r\n\r\n  const handleValidation = () => {\r\n    email.trim() === ''\r\n      ? setEmailError('Email is required')\r\n      : setEmailError('');\r\n    password.trim() === ''\r\n      ? setPasswordError('Password is required')\r\n      : password.length < 6\r\n      ? setPasswordError('Password must be at least 6 characters')\r\n      : setPasswordError('');\r\n  };\r\n\r\n  const getUserInfo = async (id) => {\r\n    const user = await getDoc(doc(firebaseDb, 'users', `${id}`));\r\n    const userInfo = {\r\n      id: user.id,\r\n      name: user._document.data.value.mapValue.fields.name.stringValue,\r\n      email: user._document.data.value.mapValue.fields.email.stringValue,\r\n    };\r\n    dispatch(setUser(userInfo));\r\n    dispatch(setIsLoggedIn(true))\r\n  };\r\n\r\n  const handleSubmit = () => {\r\n    handleValidation();\r\n    if (\r\n      emailError === '' &&\r\n      passwordError === ''\r\n    ) {\r\n      signInWithEmailAndPassword(firebaseAuth, email, password).then(\r\n        async (user) => {\r\n          try {\r\n            await getUserInfo(user.user.uid);\r\n            navigate('/');\r\n          } catch (e) {\r\n            console.error('Error adding document: ', e);\r\n          }\r\n        },\r\n      );\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <div className=\"container\">\r\n        <Stack\r\n          className=\"d_flex justify_content_center align_items_center\"\r\n          spacing={2}\r\n        >\r\n          <Typography variant=\"h3\" component=\"h2\">\r\n            Login\r\n          </Typography>\r\n          <TextField\r\n            id=\"email\"\r\n            type=\"email\"\r\n            label=\"Email\"\r\n            value={email}\r\n            error={emailError !== ''}\r\n            helperText={emailError}\r\n            onChange={(e) => setEmail(e.target.value)}\r\n            sx={{ width: '400px' }}\r\n          />\r\n          <TextField\r\n            id=\"password\"\r\n            type=\"password\"\r\n            label=\"Password\"\r\n            value={password}\r\n            error={passwordError !== ''}\r\n            helperText={passwordError}\r\n            onChange={(e) => setPassword(e.target.value)}\r\n            sx={{ width: '400px' }}\r\n          />\r\n          <Button variant=\"contained\" size='large' onClick={handleSubmit}>Login</Button>\r\n        </Stack>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Login;\r\n","import { initializeApp } from 'firebase/app';\r\nimport { getAuth } from 'firebase/auth';\r\nimport { getFirestore } from 'firebase/firestore';\r\n\r\n\r\nconst firebaseConfig = {\r\n  apiKey: 'AIzaSyBpgMmRa0WRIYWqf8sWza-2nbllGFoWM8c',\r\n  authDomain: 'location-share-18909.firebaseapp.com',\r\n  projectId: 'location-share-18909',\r\n  storageBucket: 'location-share-18909.appspot.com',\r\n  messagingSenderId: '998344962375',\r\n  appId: '1:998344962375:web:a270dbfa79855100b6dc62',\r\n};\r\n\r\n// Initialize Firebase\r\nconst app = initializeApp(firebaseConfig);\r\nconst firebaseAuth = getAuth(app);\r\nconst firebaseDb = getFirestore(app);\r\n\r\nexport {firebaseAuth, firebaseDb};"],"names":["useState","email","setEmail","password","setPassword","emailError","setEmailError","passwordError","setPasswordError","navigate","useNavigate","dispatch","useDispatch","getUserInfo","id","getDoc","doc","firebaseDb","user","userInfo","name","_document","data","value","mapValue","fields","stringValue","setUser","setIsLoggedIn","className","spacing","variant","component","type","label","error","helperText","onChange","e","target","sx","width","size","onClick","trim","length","signInWithEmailAndPassword","firebaseAuth","then","uid","console","app","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","getAuth","getFirestore"],"sourceRoot":""}