"use strict";(self.webpackChunklocation_share=self.webpackChunklocation_share||[]).push([[765],{9765:function(t,e,n){n.r(e);var o=n(885),r=n(2791),i=n(9961),u=n(7626),s=n(6042),a=n(9500),l=n(9434),c=n(6871),d=n(4428),h=n(3044),g=n(184),f=d.io.connect("http://localhost:7000");e.default=function(){var t=(0,l.v9)((function(t){return t.user.isLoggedIn})),e=r.useState([27.7172,85.324]),n=(0,o.Z)(e,2),d=n[0],p=n[1],v=(0,l.v9)((function(t){var e,n;return null===t||void 0===t||null===(e=t.user)||void 0===e||null===(n=e.user)||void 0===n?void 0:n.name}))||"",m=r.useState([]),x=(0,o.Z)(m,2),j=x[0],Z=x[1],w=r.useState(""),S=(0,o.Z)(w,2),b=S[0],k=S[1],I=r.useState(""),C=(0,o.Z)(I,2),y=C[0],z=C[1];if(!t)return(0,g.jsx)(c.Fg,{to:"/login"});f.on("location",(function(t){t.username===v?p([t.latitude,t.longitude]):Z([t.latitude,t.longitude]),t.username===v?k(t.username):z(t.username)})),(0,r.useEffect)((function(){var t=setInterval((function(){navigator.geolocation.getCurrentPosition((function(t){f.emit("location",{username:v,latitude:t.coords.latitude,longitude:t.coords.longitude}),p([t.coords.latitude,t.coords.longitude])}))}),1e3);return function(){return clearInterval(t)}}),[]);h.Z;return(0,g.jsxs)(i.h,{center:d,zoom:13,scrollWheelZoom:!0,children:[(0,g.jsx)(u.I,{attribution:'\xa9 <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),(0,g.jsx)(s.J,{position:d,children:(0,g.jsx)(a.G,{children:b})}),""===y?(0,g.jsx)(g.Fragment,{}):(0,g.jsx)(s.J,{position:j,children:(0,g.jsx)(a.G,{children:y})})]})}}}]);
//# sourceMappingURL=765.cebd2ed7.chunk.js.map